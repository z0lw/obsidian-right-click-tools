# Obsidian File Mover Plugin

ファイルやフォルダを事前指定されたフォルダに、元のフォルダ構造を維持したまま移行できるObsidianプラグインです。

## 機能

- **右クリックメニューから簡単移行**: ファイルエクスプローラーでファイルまたはフォルダを右クリックし、「指定フォルダに移行」を選択
- **フォルダ構造の維持**: 元のフォルダ階層を移行先でも完全に保持
- **設定可能な移行先**: プラグイン設定で移行先フォルダを自由に指定可能
- **重複ファイル対応**: 同名ファイル・フォルダがある場合は自動的に番号を付けて回避
- **自動フォルダ作成**: 移行先フォルダが存在しない場合は自動的に作成

## インストール方法

### 手動インストール

1. このリポジトリをクローンまたはダウンロード
2. 依存関係をインストール: `npm install`
3. プラグインをビルド: `npm run build`
4. `main.js`, `manifest.json`, `styles.css` を Obsidian の `.obsidian/plugins/obsidian-file-mover/` フォルダにコピー
5. Obsidian を再起動し、設定 > コミュニティプラグイン で "File Mover" を有効化

### コミュニティプラグイン（将来的に）

現在コミュニティプラグインとしての公開は未定です。

## 使用方法

### 1. 移行先フォルダの設定

1. Obsidian の設定を開く
2. 「コミュニティプラグイン」→「File Mover」の設定を開く
3. 「移行先フォルダ」に移行したいフォルダ名を入力（例: `Archive`, `Old Files` など）

### 2. ファイル・フォルダの移行

1. ファイルエクスプローラーで移行したいファイルまたはフォルダを右クリック
2. 「指定フォルダに移行」を選択
3. ファイル・フォルダが設定した移行先フォルダに移行される

## 動作例

元の構造:
```
Notes/
├── 2023/
│   ├── January/
│   │   └── note1.md
│   └── February/
│       └── note2.md
└── Projects/
    └── project1.md
```

`Notes/2023/` フォルダを `Archive` フォルダに移行した場合:

```
Archive/
└── Notes/
    └── 2023/
        ├── January/
        │   └── note1.md
        └── February/
            └── note2.md
Notes/
└── Projects/
    └── project1.md
```

## 開発

### 必要な環境
- Node.js (v16以上推奨)
- npm

### セットアップ

```bash
# 依存関係のインストール
npm install

# 開発モードでビルド（ファイル変更を監視）
npm run dev

# 本番用ビルド
npm run build
```

### ファイル構成

- `main.ts`: プラグインのメインコード
- `manifest.json`: プラグインの設定情報
- `package.json`: Node.js の依存関係
- `tsconfig.json`: TypeScript設定
- `esbuild.config.mjs`: ビルド設定

## ライセンス

MIT License

## 貢献

バグ報告や機能要望は GitHub Issues でお願いします。プルリクエストも歓迎です。

## 注意事項

- ファイルの移行は元のファイルを移動させます（コピーではありません）
- 大量のファイルを移行する際は事前にバックアップを取ることを推奨します
- 移行先に同名のファイル・フォルダがある場合は自動的に番号が付けられます（例: `file (1).md`）